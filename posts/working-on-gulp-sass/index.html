<!doctype html><html class="dark light"><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>
         Release of gulp-sass v2
        
    </title><meta content="Release of gulp-sass v2" property=og:title><meta content="Release of gulp-sass v2 and what it means" property=og:description><meta content="Release of gulp-sass v2 and what it means" name=description><link href=/icon/favicon.png rel=icon type=image/png><link href=https://ashang.github.io/zz/fonts.css rel=stylesheet><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]}}</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link href=https://ashang.github.io/zz/atom.xml rel=alternate title=atbb type=application/atom+xml><link href=https://ashang.github.io/zz/theme/light.css rel=stylesheet><link href=https://ashang.github.io/zz/theme/dark.css id=darkModeStyle rel=stylesheet><link href=https://ashang.github.io/zz/main.css media=screen rel=stylesheet><body><div class=content><header><div class=main><a href=https://ashang.github.io/zz/>atbb</a><div class=socials><a class=social href=https://github.com/ashang/ rel=me> <img alt=github src=/social_icons/github.svg> </a></div></div><nav><a href=$BASE_URL/search/ style=margin-left:.7em>Search</a><a href=/notes style=margin-left:.7em>/notes</a><a href=/posts style=margin-left:.7em>/posts</a><a href=/gallery style=margin-left:.7em>/gallery</a><a href=/tags style=margin-left:.7em>/tags</a><a href=/projects style=margin-left:.7em>/projects</a> | <a href=javascript:void(0) id=dark-mode-toggle onclick=toggleTheme()> <img id=sun-icon src=/feather/sun.svg style=filter:invert(1)> <img id=moon-icon src=/feather/moon.svg> </a><script src=https://ashang.github.io/zz/js/themetoggle.js></script></nav></header><main><article><div class=title><div class=page-header>Release of gulp-sass v2<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2015-05-07</time></div></div><h1>Table of Contents</h1><ul><li><a href=https://ashang.github.io/zz/posts/working-on-gulp-sass/#sass>Sass</a><li><a href=https://ashang.github.io/zz/posts/working-on-gulp-sass/#here-comes-a-new-challenger>Here comes a new challenger</a><li><a href=https://ashang.github.io/zz/posts/working-on-gulp-sass/#gulp-sass>gulp-sass</a></ul><section class=body><p><a href=https://github.com/dlmanning/gulp-sass>gulp-sass</a> v2 was released today! In itself, this is not a big change as this is simply a wrapper for node-sass which uses libsass so, while this version is a complete rewrite this is not the important news. The important news is that it ships with <a href=https://github.com/sass/node-sass>node-sass</a> v3 which is using <a href=http://libsass.org/>libsass</a> 3.2.2.<p>We will see in a short moment why it is exciting but first a small explanation on what is sass and libsass.<p><strong>TL;DR</strong>:<pre class=language-bash data-lang=bash style=background:#0f1419;color:#bfbab0><code class=language-bash data-lang=bash><span style=color:#ffb454>$</span><span> rm</span><span style=color:#f29718> -rf</span><span> node_modules/gulp-sass/
</span><span style=color:#ffb454>$</span><span> npm install gulp-sass</span><span style=color:#f29718> --save-dev
</span><span style=color:#ffb454>//</span><span> enjoy nearly full sass compatibility
</span></code></pre><h2 id=sass>Sass</h2><p>Nowadays, most front-end developers and designers use CSS preprocessors to immensely simplify their work. A CSS preprocessor brings variables, nesting, mixins, functions and other things to CSS. Let's see a short example of why we would use one, in this case using variables for colours:<pre class=language-css data-lang=css style=background:#0f1419;color:#bfbab0><code class=language-css data-lang=css><span style=color:#ffb454>.header </span><span>{
</span><span>  </span><span style=color:#39bae6>background</span><span style=color:#bfbab0cc>: </span><span style=color:#f29718>#484c55</span><span style=color:#bfbab0cc>;
</span><span>}
</span><span>
</span><span style=color:#ffb454>.header .title </span><span>{
</span><span>  </span><span style=color:#39bae6>background</span><span style=color:#bfbab0cc>: </span><span style=color:#f29718>#5a5d66</span><span style=color:#bfbab0cc>; </span><span style=font-style:italic;color:#5c6773>/* 10% lighter than #484c55 */
</span><span>}
</span><span>
</span><span style=color:#ffb454>.header .title .logo </span><span>{
</span><span>  </span><span style=color:#39bae6>background</span><span style=color:#bfbab0cc>: </span><span style=color:#f29718>#484c55</span><span style=color:#bfbab0cc>;
</span><span>}
</span></code></pre><p>And in Sass:<pre class=language-sass data-lang=sass style=background:#0f1419;color:#bfbab0><code class=language-sass data-lang=sass><span style=font-style:italic;color:#5c6773>// functions.scss
</span><span style=font-style:italic;color:#5c6773>/// Slightly lighten a color
</span><span style=color:#ff7733>@function </span><span style=color:#ffb454>tint</span><span>(</span><span style=color:#f29718>$color</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>$percentage</span><span>) {
</span><span>  </span><span style=color:#ff7733>@return </span><span style=color:#f07178>mix</span><span>(</span><span style=color:#c2d94c>white</span><span style=color:#bfbab0cc>, </span><span>$color</span><span style=color:#bfbab0cc>, </span><span>$percentage)</span><span style=color:#ff3333>;
</span><span style=color:#ff3333>}
</span><span>
</span><span style=font-style:italic;color:#5c6773>// colors.scss
</span><span style=color:#ff7733>@import </span><span style=color:#c2d94c>"functions"</span><span>;
</span><span>
</span><span>$header-background</span><span style=color:#bfbab0cc>: </span><span style=color:#f29718>#484c55</span><span style=color:#ff3333>;
</span><span>$header-title-background</span><span style=color:#bfbab0cc>: </span><span style=color:#f07178>tint</span><span>($header-background</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>10</span><span style=color:#ff7733>%</span><span>)</span><span style=color:#ff3333>;
</span><span>
</span><span style=font-style:italic;color:#5c6773>// header.scss
</span><span style=color:#ff7733>@import </span><span style=color:#c2d94c>"colors"</span><span>;
</span><span>
</span><span style=color:#ffb454>.header </span><span style=color:#ff3333>{
</span><span>  </span><span style=color:#39bae6>background</span><span style=color:#bfbab0cc>: </span><span>$header-background</span><span style=color:#ff3333>;
</span><span>
</span><span>  </span><span style=color:#ffb454>.title </span><span style=color:#ff3333>{
</span><span>    </span><span style=color:#39bae6>background</span><span style=color:#bfbab0cc>: </span><span>$header-title-background</span><span style=color:#ff3333>;
</span><span>
</span><span>    </span><span style=color:#ffb454>.logo </span><span style=color:#ff3333>{
</span><span>      </span><span style=color:#39bae6>background</span><span style=color:#bfbab0cc>: </span><span>$header-background</span><span style=color:#ff3333>;
</span><span>    </span><span style=color:#ff3333>}
</span><span>  </span><span style=color:#ff3333>}
</span><span style=color:#ff3333>}
</span></code></pre><blockquote><p>The above ignores best practices about naming/nesting/specificity of selectors for the sake of example.</blockquote><p>While the Sass version is longer, it makes your CSS more readable, easy to organise and consistent. This is only a tiny part of what CSS preprocessors but it hopefully gives you an idea on why they are extremely useful.<p><a href=http://sass-lang.com/>Sass</a> is one of them. There is also <a href=http://lesscss.org/>less</a>, <a href=http://learnboost.github.io/stylus/>stylus</a> and a few others but I personally use Sass so I will be talking about that.<p>Sass is written in Ruby, which means that Ruby is now needed to build your frontend. Ruby is also not the fastest programming language around and the compilation was taking more than 10 seconds for some large projects, which is not really sustainable when working.<h2 id=here-comes-a-new-challenger>Here comes a new challenger</h2><p><a href=https://github.com/akhleung>Aaron Leung</a> started porting the Sass compiler to C/C++. Lots of people (including me) started playing with it and were impressed by the compilation time an order of magnitude faster than sass but quickly realized that lots of features were not implemented yet, for example <a href=http://benfrain.com/libsass-lightning-fast-sass-compiler-ready-prime-time/>this article</a>. While it was usable for some projects, it could not be a drop-in replacement for most people as you would have to use workarounds for some features and not use some others at all or were using frameworks like Bourbon or earlier versions of Foundation.<p><a href=https://twitter.com/HugoGiraudel>Hugo Giraudel</a> started a website called <a href=http://sass-compatibility.github.io/>Sass Compatibility</a> to keep track of those incompatibilities. As mentioned in the introduction, gulp-sass is now using libsass 3.2.2 while it was using 2.0 before and the results of that website look pretty damn good ! Most features are supported except for selector manipulation and string functions, both of which I didn't even know existed in the first place.<h2 id=gulp-sass>gulp-sass</h2><p>As mentioned in the introduction, gulp-sass has been rewritten and it means that your existing tasks won't work. Here's how to update your gulpfile (from the README):<pre class=language-javascript data-lang=javascript style=background:#0f1419;color:#bfbab0><code class=language-javascript data-lang=javascript><span style=font-style:italic;color:#5c6773>// gulp-sass 1.3.3 task
</span><span>gulp</span><span style=color:#f29668>.</span><span style=color:#ffb454>task</span><span>(</span><span style=color:#c2d94c>'sass'</span><span style=color:#bfbab0cc>, </span><span style=color:#ff7733>function </span><span>() {
</span><span>    gulp</span><span style=color:#f29668>.</span><span style=color:#ffb454>src</span><span>(</span><span style=color:#c2d94c>'./scss/*.scss'</span><span>)
</span><span>        </span><span style=color:#f29668>.</span><span style=color:#ffb454>pipe</span><span>(</span><span style=color:#ffb454>sass</span><span>({errLogToConsole</span><span style=color:#bfbab0cc>: </span><span style=color:#f29718>true</span><span>}))
</span><span>        </span><span style=color:#f29668>.</span><span style=color:#ffb454>pipe</span><span>(gulp</span><span style=color:#f29668>.</span><span style=color:#ffb454>dest</span><span>(</span><span style=color:#c2d94c>'./css'</span><span>))</span><span style=color:#bfbab0cc>;
</span><span>})</span><span style=color:#bfbab0cc>;
</span><span>
</span><span style=font-style:italic;color:#5c6773>// gulp-sass 2.0 task
</span><span>gulp</span><span style=color:#f29668>.</span><span style=color:#ffb454>task</span><span>(</span><span style=color:#c2d94c>'sass'</span><span style=color:#bfbab0cc>, </span><span style=color:#ff7733>function </span><span>() {
</span><span>    gulp</span><span style=color:#f29668>.</span><span style=color:#ffb454>src</span><span>(</span><span style=color:#c2d94c>'./scss/*.scss'</span><span>)
</span><span>        </span><span style=color:#f29668>.</span><span style=color:#ffb454>pipe</span><span>(</span><span style=color:#ffb454>sass</span><span>()</span><span style=color:#f29668>.</span><span style=color:#ffb454>on</span><span>(</span><span style=color:#c2d94c>'error'</span><span style=color:#bfbab0cc>, </span><span>sass</span><span style=color:#f29668>.</span><span>logError))
</span><span>        </span><span style=color:#f29668>.</span><span style=color:#ffb454>pipe</span><span>(plugins</span><span style=color:#f29668>.</span><span style=color:#ffb454>autoprefixer</span><span>())
</span><span>        </span><span style=color:#f29668>.</span><span style=color:#ffb454>pipe</span><span>(gulp</span><span style=color:#f29668>.</span><span style=color:#ffb454>dest</span><span>(</span><span style=color:#c2d94c>'./css'</span><span>))</span><span style=color:#bfbab0cc>;
</span><span>})</span><span style=color:#bfbab0cc>;
</span><span>
</span><span style=font-style:italic;color:#5c6773>// gulp-sass 2.0 synchronous compilation task
</span><span>gulp</span><span style=color:#f29668>.</span><span style=color:#ffb454>task</span><span>(</span><span style=color:#c2d94c>'sass'</span><span style=color:#bfbab0cc>, </span><span style=color:#ff7733>function </span><span>() {
</span><span>    gulp</span><span style=color:#f29668>.</span><span style=color:#ffb454>src</span><span>(</span><span style=color:#c2d94c>'./scss/*.scss'</span><span>)
</span><span>        </span><span style=color:#f29668>.</span><span style=color:#ffb454>pipe</span><span>(sass</span><span style=color:#f29668>.</span><span style=color:#ffb454>sync</span><span>()</span><span style=color:#f29668>.</span><span style=color:#ffb454>on</span><span>(</span><span style=color:#c2d94c>'error'</span><span style=color:#bfbab0cc>, </span><span>sass</span><span style=color:#f29668>.</span><span>logError))
</span><span>        </span><span style=color:#f29668>.</span><span style=color:#ffb454>pipe</span><span>(plugins</span><span style=color:#f29668>.</span><span style=color:#ffb454>autoprefixer</span><span>())
</span><span>        </span><span style=color:#f29668>.</span><span style=color:#ffb454>pipe</span><span>(gulp</span><span style=color:#f29668>.</span><span style=color:#ffb454>dest</span><span>(</span><span style=color:#c2d94c>'./css'</span><span>))</span><span style=color:#bfbab0cc>;
</span><span>})</span><span style=color:#bfbab0cc>;
</span></code></pre><p>Any options passed to gulp-sass will be passed down to node-sass, there is no gulp-sass specific options.<p>As a general advice, I would recommend using <a href=https://github.com/sindresorhus/gulp-autoprefixer>gulp-autoprefixer</a> along as it simplifies your Sass even more since you don't have to worry about browsers prefixes and flexbox syntaxes.<p>There are already issues open on gulp-sass but if you encounter problems (except installations errors, those are most likely node-sass), please open an issue on <a href=https://github.com/dlmanning/gulp-sass/issues>https://github.com/dlmanning/gulp-sass/issues</a> so we can have a look ! There was over 45k downloads of gulp-sass on npm last week so spread the word about that new version and it might be a good time to try replacing your Ruby Sass!<p>As an aside, if you are writing Sass I heavily recommend reading those <a href=http://sass-guidelin.es/>guidelines</a> as they are really good and well detailed. The only thing missing for me now in the Sass ecosystem is a Ruby-free linter (sounds like a fun Rust learning project).</section></article></main></div>