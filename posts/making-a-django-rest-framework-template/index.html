<!doctype html><html class="dark light"><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>
         A template for Django REST Framework projects
        
    </title><meta content="A template for Django REST Framework projects" property=og:title><meta content="Showing off a django template to kickstart a DRF project" property=og:description><meta content="Showing off a django template to kickstart a DRF project" name=description><link href=/icon/favicon.png rel=icon type=image/png><link href=https://ashang.github.io/zz/fonts.css rel=stylesheet><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]}}</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link href=https://ashang.github.io/zz/atom.xml rel=alternate title=atbb type=application/atom+xml><link href=https://ashang.github.io/zz/theme/light.css rel=stylesheet><link href=https://ashang.github.io/zz/theme/dark.css id=darkModeStyle rel=stylesheet><link href=https://ashang.github.io/zz/main.css media=screen rel=stylesheet><body><div class=content><header><div class=main><a href=https://ashang.github.io/zz/>atbb</a><div class=socials><a class=social href=https://github.com/ashang/ rel=me> <img alt=github src=/social_icons/github.svg> </a></div></div><nav><a href=$BASE_URL/search/ style=margin-left:.7em>Search</a><a href=/notes style=margin-left:.7em>/notes</a><a href=/posts style=margin-left:.7em>/posts</a><a href=/gallery style=margin-left:.7em>/gallery</a><a href=/tags style=margin-left:.7em>/tags</a><a href=/projects style=margin-left:.7em>/projects</a> | <a href=javascript:void(0) id=dark-mode-toggle onclick=toggleTheme()> <img id=sun-icon src=/feather/sun.svg style=filter:invert(1)> <img id=moon-icon src=/feather/moon.svg> </a><script src=https://ashang.github.io/zz/js/themetoggle.js></script></nav></header><main><article><div class=title><div class=page-header>A template for Django REST Framework projects<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2014-05-15</time></div></div><h1>Table of Contents</h1><ul><li><a href=https://ashang.github.io/zz/posts/making-a-django-rest-framework-template/#features>Features</a><li><a href=https://ashang.github.io/zz/posts/making-a-django-rest-framework-template/#install>Install</a></ul><section class=body><p>I made a project template for Django 1.7 + Django REST framework + PostgreSQL containing things I use and find useful. Part of it is based on <a href=https://github.com/twoscoops/django-twoscoops-project>Two Scoops of Django template</a>. You can see the repo on <a href=https://github.com/Keats/django-drf-template>Github</a>.<h2 id=features>Features</h2><p>It contains the following things:<ul><li><a href=http://www.django-rest-framework.org/>Django REST framework</a>: for writing your API<li><a href=https://django-model-utils.readthedocs.org/en/latest/>django-model-utils</a>: for things like TimestampedModel and other nice things for models<li><a href=https://github.com/ottoyiu/django-cors-headers>django-cors-headers</a>: automatically allows CORS on local dev and allows for a whitelist in production<li>bcrypt: hash password with bcrypt instead of PBKDF2</ul><p>There are also goodies on dev and test environments:<ul><li><a href=https://github.com/django-debug-toolbar/django-debug-toolbar>django-debug-toolbar</a>: lots of information on request/response and queries<li><a href=https://pypi.python.org/pypi/ipdb>ipdb</a>: pdb in ipython. Awesome<li><a href=https://github.com/django-extensions/django-extensions>django-extensions</a>: adds some useful management commands<li><a href=http://nedbatchelder.com/code/coverage/>coverage</a>: measures code coverage<li><a href=https://factoryboy.readthedocs.org/en/latest/>factory-boy</a>: my library of choice to create objects in tests, I go more into details in my article <a href=https://ashang.github.io/zz/posts/making-a-django-rest-framework-template/2014-04-05_factory-boy-or-model-mommy.md>Python testing: Factory Boy or Model Mommy</a><li><a href=https://flake8.readthedocs.org>flake8</a>: ensures code quality, respect of pep8 and other nice things, it can easily be installed as a git/mercurial hook</ul><h2 id=install>Install</h2><p>You will need Postgres installed and the following libs (for ubuntu/debian, for others systems look in your package managers).<pre class=language-bash data-lang=bash style=background:#0f1419;color:#bfbab0><code class=language-bash data-lang=bash><span style=color:#ffb454>$</span><span> sudo apt-get install libpq-dev python-dev
</span></code></pre><p>Create your virtualenv (and virtualenvwrapper in the example case), I will use the name myproject but use your own name.<pre class=language-bash data-lang=bash style=background:#0f1419;color:#bfbab0><code class=language-bash data-lang=bash><span style=color:#ffb454>$</span><span> mkdir myproject </span><span style=color:#f29668>&& </span><span style=color:#f07178>cd</span><span> myproject
</span><span style=color:#ffb454>$</span><span> mkvrirtualenv myproject
</span><span style=color:#ffb454>$</span><span> pip install django
</span><span style=color:#ffb454>$</span><span> django-admin.py startproject myproject</span><span style=color:#f29718> --template</span><span style=color:#f29668>=</span><span>https://github.com/Keats/django-drf-template/archive/master.zip
</span><span style=color:#ffb454>$</span><span> cd myproject
</span><span style=color:#ffb454>$</span><span> pip install</span><span style=color:#f29718> -r</span><span> requirements/local.txt
</span><span style=color:#ffb454>$</span><span> python myproject/manage.py migrate
</span></code></pre><p>If you want, you can also add a pre-commit flake8 hook to ensure that commit respects it.<pre class=language-bash data-lang=bash style=background:#0f1419;color:#bfbab0><code class=language-bash data-lang=bash><span style=color:#ffb454>$</span><span> flake8</span><span style=color:#f29718> --install-hook
</span></code></pre><p>By default it will not stop commits because of warning, a quick look at .git/hooks/pre-commit shows that putting an environment variable of FLAKE8_STRICT will stop them.<p>And you should be almost good to go. There are a few hardcoded temporary settings that you will want to replace, look for the string 'Ann Onymous' and you should find them. They are in the Sphinx folder and in the base settings file if you're lazy.<p>Once again, PRs are welcome if there's a bug or want to share something you use all the time that I don't necessarily know about !</section></article></main></div>