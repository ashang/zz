<!doctype html><html class="dark light"><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>
         Comparing weathers in places I've lived
        
    </title><meta content="Comparing weathers in places I've lived" property=og:title><meta content="Looking how they differ by data" property=og:description><meta content="Looking how they differ by data" name=description><link href=/icon/favicon.png rel=icon type=image/png><link href=https://ashang.github.io/zz/fonts.css rel=stylesheet><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']]}}</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link href=https://ashang.github.io/zz/atom.xml rel=alternate title=atbb type=application/atom+xml><link href=https://ashang.github.io/zz/theme/light.css rel=stylesheet><link href=https://ashang.github.io/zz/theme/dark.css id=darkModeStyle rel=stylesheet><link href=https://ashang.github.io/zz/main.css media=screen rel=stylesheet><body><div class=content><header><div class=main><a href=https://ashang.github.io/zz/>atbb</a><div class=socials><a class=social href=https://github.com/ashang/ rel=me> <img alt=github src=/social_icons/github.svg> </a></div></div><nav><a href=$BASE_URL/search/ style=margin-left:.7em>Search</a><a href=/notes style=margin-left:.7em>/notes</a><a href=/posts style=margin-left:.7em>/posts</a><a href=/gallery style=margin-left:.7em>/gallery</a><a href=/tags style=margin-left:.7em>/tags</a><a href=/projects style=margin-left:.7em>/projects</a> | <a href=javascript:void(0) id=dark-mode-toggle onclick=toggleTheme()> <img id=sun-icon src=/feather/sun.svg style=filter:invert(1)> <img id=moon-icon src=/feather/moon.svg> </a><script src=https://ashang.github.io/zz/js/themetoggle.js></script></nav></header><main><article><div class=title><div class=page-header>Comparing weathers in places I've lived<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2015-05-22</time></div></div><section class=body><pre class=language-python data-lang=python style=background:#0f1419;color:#bfbab0><code class=language-python data-lang=python><span style=color:#f29668>%</span><span>matplotlib inline
</span><span>
</span><span style=color:#ff7733>import </span><span>datetime
</span><span style=color:#ff7733>import </span><span>matplotlib</span><span style=color:#f29668>.</span><span>pyplot </span><span style=color:#ff7733>as </span><span>plt
</span><span style=color:#ff7733>import </span><span>numpy </span><span style=color:#ff7733>as </span><span>np
</span><span style=color:#ff7733>import </span><span>pandas </span><span style=color:#ff7733>as </span><span>pd
</span><span style=color:#ff7733>import </span><span>seaborn  </span><span style=font-style:italic;color:#5c6773># make charts prettier and more readable
</span></code></pre><pre class=language-python data-lang=python style=background:#0f1419;color:#bfbab0><code class=language-python data-lang=python><span style=font-style:italic;color:#5c6773># Let's load one of the CSV to see what they look like
</span><span>nice </span><span style=color:#f29668>= </span><span>pd</span><span style=color:#f29668>.</span><span style=color:#ffb454>read_csv</span><span>(</span><span style=color:#c2d94c>'nice.csv'</span><span>)
</span><span>nice[</span><span style=color:#bfbab0cc>:</span><span style=color:#f29718>5</span><span>]
</span></code></pre><table border=1 class=dataframe><thead><tr style=text-align:right><th><th>month<th>avg_temp<th>min_temp<th>max_temp<th>humidity<th>rainfall<th>raindays<th>snowdays<tbody><tr><th>0<td>01-2011<td>8.6<td>4.8<td>12.4<td>67.0<td>2.9<td>5<td>0<tr><th>1<td>02-2011<td>9.3<td>7.1<td>11.1<td>69.1<td>2.9<td>5<td>0<tr><th>2<td>03-2011<td>11.7<td>7.8<td>14.3<td>67.0<td>3.9<td>5<td>0<tr><th>3<td>04-2011<td>15.6<td>13.3<td>18.5<td>67.4<td>0.4<td>1<td>0<tr><th>4<td>05-2011<td>19.7<td>16.6<td>24.8<td>60.6<td>0.0<td>0<td>0</table><p>We can see the shape of our CSV files. There are 8 columns, all pretty explicit and containing the average for the month in column month except for raindays and snowdays which contains the number of days in that month where it rained and snowed respectively.<p>Note: I currently count raindays as the number of days where the rainfall is above 5mm (which is completely arbitrary). If you look at the website I scraped it does contain a column for rain days but some days are marked as rain days when there is no rainfall and the reverse. Even then it's not really accurate as I'm only interested in quality of life and rain at 4am is not annoying lots of people.<p>Cool. Let's try plotting something first to see if everything is okay and load the other cities.<pre class=language-python data-lang=python style=background:#0f1419;color:#bfbab0><code class=language-python data-lang=python><span style=font-style:italic;color:#39bae6>_ </span><span style=color:#f29668>= </span><span>nice[</span><span style=color:#c2d94c>'avg_temp'</span><span>]</span><span style=color:#f29668>.</span><span style=color:#ffb454>plot</span><span>(</span><span style=color:#f29718>figsize</span><span style=color:#f29668>=</span><span>(</span><span style=color:#f29718>15</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>5</span><span>))
</span></code></pre><img alt="Average temperature in Nice" srcset="https://ashang.github.io/zz/processed_images/weather_3_0.50bcafdc58b84f60.png 512w" title="Average temperature in Nice" src=https://ashang.github.io/zz/processed_images/weather_3_0.a250641fa0d9f05f.png><p>While we could continue having one <code>DataFrame</code> per city, it is more convenient to have one <code>DataFrame</code> containing all the data as this allows us to use plotting directly from it like we did above.<pre class=language-python data-lang=python style=background:#0f1419;color:#bfbab0><code class=language-python data-lang=python><span>locations </span><span style=color:#f29668>= </span><span>[</span><span style=color:#c2d94c>'nice'</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>'montreal'</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>'okinawa'</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>'london'</span><span>]
</span><span>weather </span><span style=color:#f29668>= </span><span>pd</span><span style=color:#f29668>.</span><span style=color:#ffb454>DataFrame</span><span>()
</span><span>
</span><span style=color:#ff7733>for </span><span>location </span><span style=color:#ff7733>in </span><span>locations:
</span><span>    frame </span><span style=color:#f29668>= </span><span>pd</span><span style=color:#f29668>.</span><span style=color:#ffb454>read_csv</span><span>(</span><span style=color:#c2d94c>'</span><span style=color:#f29718>%s</span><span style=color:#c2d94c>.csv' </span><span style=color:#f29668>% </span><span>location)
</span><span>    </span><span style=font-style:italic;color:#5c6773># We need to keep track of where it's coming from obviously
</span><span>    frame[</span><span style=color:#c2d94c>'location'</span><span>] </span><span style=color:#f29668>= </span><span>location
</span><span>    weather </span><span style=color:#f29668>= </span><span>weather</span><span style=color:#f29668>.</span><span style=color:#ffb454>append</span><span>(frame)
</span><span>
</span><span style=font-style:italic;color:#5c6773># Alternative to using slicing
</span><span>weather</span><span style=color:#f29668>.</span><span style=color:#ffb454>head</span><span>()
</span></code></pre><div class=contained style=max-height:1000px;overflow:auto><table border=1 class=dataframe><thead><tr style=text-align:right><th><th>month<th>avg_temp<th>min_temp<th>max_temp<th>humidity<th>rainfall<th>raindays<th>snowdays<th>location<tbody><tr><th>0<td>01-2011<td>8.6<td>4.8<td>12.4<td>67.0<td>2.9<td>5<td>0<td>nice<tr><th>1<td>02-2011<td>9.3<td>7.1<td>11.1<td>69.1<td>2.9<td>5<td>0<td>nice<tr><th>2<td>03-2011<td>11.7<td>7.8<td>14.3<td>67.0<td>3.9<td>5<td>0<td>nice<tr><th>3<td>04-2011<td>15.6<td>13.3<td>18.5<td>67.4<td>0.4<td>1<td>0<td>nice<tr><th>4<td>05-2011<td>19.7<td>16.6<td>24.8<td>60.6<td>0.0<td>0<td>0<td>nice</table></div><p>We can also use <code>.describe()</code> on a <code>DataFrame</code> instead of doing <code>.median()</code>, <code>.sum()</code> etc on every single column to have a quick overview of all the variables.<pre class=language-python data-lang=python style=background:#0f1419;color:#bfbab0><code class=language-python data-lang=python><span>weather</span><span style=color:#f29668>.</span><span style=color:#ffb454>describe</span><span>()
</span></code></pre><div class=contained style=max-height:1000px;overflow:auto><table border=1 class=dataframe><thead><tr style=text-align:right><th><th>avg_temp<th>min_temp<th>max_temp<th>humidity<th>rainfall<th>raindays<th>snowdays<tbody><tr><th>count<td>192.000000<td>192.000000<td>192.000000<td>192.000000<td>192.000000<td>192.000000<td>192.000000<tr><th>mean<td>14.698437<td>9.718750<td>19.635937<td>70.260937<td>3.507292<td>4.843750<td>2.114583<tr><th>std<td>9.001405<td>11.141769<td>7.269971<td>7.409749<td>3.491553<td>3.241834<td>5.640857<tr><th>min<td>-10.000000<td>-24.900000<td>1.600000<td>54.200000<td>0.000000<td>0.000000<td>0.000000<tr><th>25%<td>9.150000<td>4.650000<td>13.950000<td>65.300000<td>1.400000<td>2.750000<td>0.000000<tr><th>50%<td>16.250000<td>11.950000<td>20.950000<td>69.750000<td>2.700000<td>5.000000<td>0.000000<tr><th>75%<td>21.025000<td>16.600000<td>25.225000<td>74.800000<td>3.900000<td>7.000000<td>0.000000<tr><th>max<td>29.600000<td>28.400000<td>30.700000<td>87.500000<td>22.000000<td>15.000000<td>25.000000</table></div><pre class=language-python data-lang=python style=background:#0f1419;color:#bfbab0><code class=language-python data-lang=python><span style=font-style:italic;color:#5c6773># Define some styles that we will reuse for all line graphs
</span><span>styles </span><span style=color:#f29668>= </span><span>{
</span><span>    </span><span style=color:#c2d94c>'london'</span><span style=color:#bfbab0cc>: </span><span style=color:#c2d94c>'go-'</span><span style=color:#bfbab0cc>,
</span><span>    </span><span style=color:#c2d94c>'nice'</span><span style=color:#bfbab0cc>: </span><span style=color:#c2d94c>'ro-'</span><span style=color:#bfbab0cc>,
</span><span>    </span><span style=color:#c2d94c>'montreal'</span><span style=color:#bfbab0cc>: </span><span style=color:#c2d94c>'bo-'</span><span style=color:#bfbab0cc>,
</span><span>    </span><span style=color:#c2d94c>'okinawa'</span><span style=color:#bfbab0cc>: </span><span style=color:#c2d94c>'co-'</span><span style=color:#bfbab0cc>,
</span><span>}
</span><span>
</span><span style=font-style:italic;color:#5c6773># we define a method since we will need to do that pretty often
</span><span style=color:#ff7733>def </span><span style=color:#ffb454>plot_grouped_by</span><span>(</span><span style=color:#f29718>dataframe</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>column_name</span><span>):
</span><span>    </span><span style=font-style:italic;color:#5c6773>"""Plots the dataframe grouped by location for the given column"""
</span><span>    </span><span style=font-style:italic;color:#5c6773># Need to use the month as the index
</span><span>    locations </span><span style=color:#f29668>= </span><span>dataframe</span><span style=color:#f29668>.</span><span style=color:#ffb454>set_index</span><span>(</span><span style=color:#c2d94c>'month'</span><span>)</span><span style=color:#f29668>.</span><span style=color:#ffb454>groupby</span><span>(</span><span style=color:#c2d94c>'location'</span><span>)
</span><span>
</span><span>    </span><span style=color:#ff7733>for </span><span>loc_name</span><span style=color:#bfbab0cc>, </span><span>loc </span><span style=color:#ff7733>in </span><span>locations:
</span><span>        loc[column_name]</span><span style=color:#f29668>.</span><span style=color:#ffb454>plot</span><span>(</span><span style=color:#f29718>x</span><span style=color:#f29668>=</span><span style=color:#c2d94c>'month'</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>label</span><span style=color:#f29668>=</span><span style=font-style:italic;color:#39bae6>str</span><span>(loc_name)</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>style</span><span style=color:#f29668>=</span><span>styles[</span><span style=font-style:italic;color:#39bae6>str</span><span>(loc_name)])
</span><span>
</span><span>
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>figure</span><span>(</span><span style=color:#f29718>figsize</span><span style=color:#f29668>=</span><span>(</span><span style=color:#f29718>16</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>8</span><span>))
</span><span>ax </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>subplot</span><span>(</span><span style=color:#f29718>111</span><span>)
</span><span>
</span><span style=color:#ffb454>plot_grouped_by</span><span>(weather</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>'avg_temp'</span><span>)
</span><span>
</span><span style=font-style:italic;color:#5c6773># Yes, I did add the 40 degrees tick just to be able to fit the legend properly
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>yticks</span><span>([</span><span style=color:#f29668>-</span><span style=color:#f29718>15</span><span style=color:#bfbab0cc>, </span><span style=color:#f29668>-</span><span style=color:#f29718>10</span><span style=color:#bfbab0cc>, </span><span style=color:#f29668>-</span><span style=color:#f29718>5</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>0</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>5</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>10</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>15</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>20</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>25</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>30</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>40</span><span>]</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>14</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>legend</span><span>(</span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>14</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>loc</span><span style=color:#f29668>=</span><span style=color:#c2d94c>"upper left"</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>title</span><span>(</span><span style=color:#c2d94c>"Monthly average temperature 2011-2014"</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>16</span><span>)
</span><span style=font-style:italic;color:#39bae6>_ </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>ylabel</span><span>(</span><span style=color:#c2d94c>"Temperature (celsius)"</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>16</span><span>)
</span><span style=font-style:italic;color:#39bae6>_ </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>xlabel</span><span>(</span><span style=color:#c2d94c>"Time"</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>16</span><span>)
</span></code></pre><img alt="Monthly average temperatures" srcset="https://ashang.github.io/zz/processed_images/weather_8_0.bfdd9b144cf46fa9.png 512w" title="Monthly average temperatures" src=https://ashang.github.io/zz/processed_images/weather_8_0.5f80105ef6a5cd30.png><p>We can make a few observations on this chart:<ul><li>Montreal has the biggest variance in temperature throughout the year: from very cold in winter to quite warm in summer<li>London is disappointingly average and is missing at least 10° on its summer time for my taste<li>Okinawa is hot, even winter is warmer than London's summer most of the time<li>Nice has a nice weather, hot in summer but not too cold in winter</ul><p>For the next plots, let's focus on 2014 only in order to have an idea on how a year looks like in those cities.<pre class=language-python data-lang=python style=background:#0f1419;color:#bfbab0><code class=language-python data-lang=python><span style=font-style:italic;color:#5c6773># Making sure we have a datetime first rather than a string
</span><span>weather[</span><span style=color:#c2d94c>'month'</span><span>] </span><span style=color:#f29668>= </span><span>pd</span><span style=color:#f29668>.</span><span style=color:#ffb454>to_datetime</span><span>(weather[</span><span style=color:#c2d94c>'month'</span><span>]</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>format</span><span style=color:#f29668>=</span><span style=color:#c2d94c>"</span><span style=color:#f29718>%m</span><span style=color:#c2d94c>-</span><span style=color:#f29718>%Y</span><span style=color:#c2d94c>"</span><span>)
</span><span>start </span><span style=color:#f29668>= </span><span>datetime</span><span style=color:#f29668>.</span><span style=color:#ffb454>date</span><span>(</span><span style=color:#f29718>2014</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>1</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>1</span><span>)
</span><span>
</span><span style=font-style:italic;color:#5c6773># pandas allows all kind of iterator magic
</span><span>weather_2014 </span><span style=color:#f29668>= </span><span>weather[weather</span><span style=color:#f29668>.</span><span>month </span><span style=color:#f29668>>= </span><span>start]
</span><span>weather_2014</span><span style=color:#f29668>.</span><span style=color:#ffb454>head</span><span>()
</span></code></pre><div class=contained style=max-height:1000px;overflow:auto><table border=1 class=dataframe><thead><tr style=text-align:right><th><th>month<th>avg_temp<th>min_temp<th>max_temp<th>humidity<th>rainfall<th>raindays<th>snowdays<th>location<tbody><tr><th>36<td>2014-01-01<td>9.7<td>6.4<td>12.4<td>71.6<td>9.2<td>11<td>0<td>nice<tr><th>37<td>2014-02-01<td>9.9<td>6.8<td>13.4<td>69.6<td>4.6<td>7<td>0<td>nice<tr><th>38<td>2014-03-01<td>12.5<td>7.4<td>15.4<td>62.3<td>2.7<td>3<td>0<td>nice<tr><th>39<td>2014-04-01<td>15.3<td>13.2<td>17.3<td>69.3<td>0.3<td>0<td>0<td>nice<tr><th>40<td>2014-05-01<td>17.5<td>14.4<td>20.2<td>64.1<td>0.6<td>1<td>0<td>nice</table></div><pre class=language-python data-lang=python style=background:#0f1419;color:#bfbab0><code class=language-python data-lang=python><span style=font-style:italic;color:#5c6773># Let's look at temperatures and humidity
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>figure</span><span>(</span><span style=color:#f29718>figsize</span><span style=color:#f29668>=</span><span>(</span><span style=color:#f29718>16</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>8</span><span>))
</span><span>
</span><span style=font-style:italic;color:#5c6773># this 221 means we want a 2x2 plots display and this is the first one
</span><span style=font-style:italic;color:#5c6773># (so upper left)
</span><span>ax </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>subplot</span><span>(</span><span style=color:#f29718>221</span><span>)
</span><span>
</span><span style=color:#ffb454>plot_grouped_by</span><span>(weather_2014</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>'avg_temp'</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>yticks</span><span>([</span><span style=color:#f29668>-</span><span style=color:#f29718>15</span><span style=color:#bfbab0cc>, </span><span style=color:#f29668>-</span><span style=color:#f29718>10</span><span style=color:#bfbab0cc>, </span><span style=color:#f29668>-</span><span style=color:#f29718>5</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>0</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>5</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>10</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>15</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>20</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>25</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>30</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>35</span><span>]</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>14</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>legend</span><span>(</span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>14</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>loc</span><span style=color:#f29668>=</span><span style=color:#c2d94c>"lower center"</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>title</span><span>(</span><span style=color:#c2d94c>"Monthly average temperature 2014"</span><span>)
</span><span style=font-style:italic;color:#39bae6>_ </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>ylabel</span><span>(</span><span style=color:#c2d94c>"Temperature (celsius)"</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>16</span><span>)
</span><span>
</span><span>ax2 </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>subplot</span><span>(</span><span style=color:#f29718>222</span><span>)
</span><span>
</span><span style=color:#ffb454>plot_grouped_by</span><span>(weather_2014</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>'max_temp'</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>yticks</span><span>([</span><span style=color:#f29718>0</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>10</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>20</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>30</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>40</span><span>]</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>14</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>legend</span><span>(</span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>14</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>loc</span><span style=color:#f29668>=</span><span style=color:#c2d94c>"lower center"</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>title</span><span>(</span><span style=color:#c2d94c>"Max temperature 2014"</span><span>)
</span><span style=font-style:italic;color:#39bae6>_ </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>ylabel</span><span>(</span><span style=color:#c2d94c>"Temperature (celsius)"</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>16</span><span>)
</span><span>
</span><span>ax3 </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>subplot</span><span>(</span><span style=color:#f29718>223</span><span>)
</span><span>
</span><span style=color:#ffb454>plot_grouped_by</span><span>(weather_2014</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>'min_temp'</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>yticks</span><span>([</span><span style=color:#f29668>-</span><span style=color:#f29718>30</span><span style=color:#bfbab0cc>, </span><span style=color:#f29668>-</span><span style=color:#f29718>20</span><span style=color:#bfbab0cc>, </span><span style=color:#f29668>-</span><span style=color:#f29718>10</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>0</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>10</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>20</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>30</span><span>]</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>14</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>legend</span><span>(</span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>14</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>loc</span><span style=color:#f29668>=</span><span style=color:#c2d94c>"lower center"</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>title</span><span>(</span><span style=color:#c2d94c>"Min temperature 2014"</span><span>)
</span><span style=font-style:italic;color:#39bae6>_ </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>ylabel</span><span>(</span><span style=color:#c2d94c>"Temperature (celsius)"</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>16</span><span>)
</span><span>
</span><span>ax4 </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>subplot</span><span>(</span><span style=color:#f29718>224</span><span>)
</span><span>
</span><span style=color:#ffb454>plot_grouped_by</span><span>(weather_2014</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>'humidity'</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>title</span><span>(</span><span style=color:#c2d94c>"Average monthly humidity </span><span style=color:#f29718>% i</span><span style=color:#c2d94c>n 2014 (legend identical)"</span><span>)
</span><span style=font-style:italic;color:#39bae6>_ </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>ylabel</span><span>(</span><span style=color:#c2d94c>"Humidity %"</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>16</span><span>)
</span><span>
</span></code></pre><img alt="Graph comparing 4 cities" srcset="https://ashang.github.io/zz/processed_images/weather_11_0.5a2ce44dc2035157.png 512w" title="Graph comparing 4 cities" src=https://ashang.github.io/zz/processed_images/weather_11_0.a247e36d1428b2dd.png><p>Looking at those graphs we can notice a few things:<ul><li>Montreal winter is pretty damn cold but is not really humid, which makes it not THAT bad and Canadians know how to do proper insulation. Summer is quite nice all around, nice temperatures and pretty dry.<li>Nice is good all year round, it sometimes gets below 10° but never reaches 0° while being dry. Having grown up there I feel like I have been spoiled when it comes to weather.<li>London is average but we can see the winter is very humid, which is the reason why I feel colder when it's 0° in London than -15° in Montreal.<li>Okinawa looks really good until you experience that summer humidity. For those that haven't lived in a tropical climate, it means that you are sweating an awful lot very quickly and air con is a necessity.</ul><p>To finish this notebook, let's have a look at the rain and snow data.<pre class=language-python data-lang=python style=background:#0f1419;color:#bfbab0><code class=language-python data-lang=python><span>
</span><span>colors </span><span style=color:#f29668>= </span><span>{
</span><span>    </span><span style=color:#c2d94c>'london'</span><span style=color:#bfbab0cc>: </span><span style=color:#c2d94c>'green'</span><span style=color:#bfbab0cc>,
</span><span>    </span><span style=color:#c2d94c>'nice'</span><span style=color:#bfbab0cc>: </span><span style=color:#c2d94c>'red'</span><span style=color:#bfbab0cc>,
</span><span>    </span><span style=color:#c2d94c>'montreal'</span><span style=color:#bfbab0cc>: </span><span style=color:#c2d94c>'blue'</span><span style=color:#bfbab0cc>,
</span><span>    </span><span style=color:#c2d94c>'okinawa'</span><span style=color:#bfbab0cc>: </span><span style=color:#c2d94c>'cyan'</span><span style=color:#bfbab0cc>,
</span><span>}
</span><span>
</span><span style=color:#ff7733>def </span><span style=color:#ffb454>bar_plot</span><span>(</span><span style=color:#f29718>ax</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>column_name</span><span>):
</span><span>    weather_2014</span><span style=color:#f29668>.</span><span style=color:#ffb454>set_index</span><span>(
</span><span>        [</span><span style=color:#c2d94c>'month'</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>'location'</span><span>]
</span><span>    )</span><span style=color:#f29668>.</span><span style=color:#ffb454>unstack</span><span>()</span><span style=color:#f29668>.</span><span style=color:#ffb454>plot</span><span>(
</span><span>        </span><span style=color:#f29718>ax</span><span style=color:#f29668>=</span><span>ax</span><span style=color:#bfbab0cc>,
</span><span>        </span><span style=color:#f29718>kind</span><span style=color:#f29668>=</span><span style=color:#c2d94c>'bar'</span><span style=color:#bfbab0cc>,
</span><span>        </span><span style=color:#f29718>y</span><span style=color:#f29668>=</span><span>column_name
</span><span>    )
</span><span>
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>figure</span><span>(</span><span style=color:#f29718>figsize</span><span style=color:#f29668>=</span><span>(</span><span style=color:#f29718>16</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>8</span><span>))
</span><span>ax </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>subplot</span><span>(</span><span style=color:#f29718>211</span><span>)
</span><span>
</span><span style=color:#ffb454>bar_plot</span><span>(ax</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>"raindays"</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>legend</span><span>(</span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>14</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>loc</span><span style=color:#f29668>=</span><span style=color:#c2d94c>"best"</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>title</span><span>(</span><span style=color:#c2d94c>"Rain days per month in 2014"</span><span>)
</span><span style=font-style:italic;color:#39bae6>_ </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>ylabel</span><span>(</span><span style=color:#c2d94c>"Number of rain days"</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>16</span><span>)
</span><span>
</span><span>ax2 </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>subplot</span><span>(</span><span style=color:#f29718>212</span><span>)
</span><span>
</span><span style=color:#ffb454>bar_plot</span><span>(ax2</span><span style=color:#bfbab0cc>, </span><span style=color:#c2d94c>"snowdays"</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>legend</span><span>(</span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>14</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>loc</span><span style=color:#f29668>=</span><span style=color:#c2d94c>"best"</span><span>)
</span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>title</span><span>(</span><span style=color:#c2d94c>"Snow days per month in 2014"</span><span>)
</span><span style=font-style:italic;color:#39bae6>_ </span><span style=color:#f29668>= </span><span>plt</span><span style=color:#f29668>.</span><span style=color:#ffb454>ylabel</span><span>(</span><span style=color:#c2d94c>"Number of snow days"</span><span style=color:#bfbab0cc>, </span><span style=color:#f29718>fontsize</span><span style=color:#f29668>=</span><span style=color:#f29718>16</span><span>)
</span></code></pre><img alt="Rain and snow days" srcset="https://ashang.github.io/zz/processed_images/weather_13_0.d263874280db910e.png 512w" title="Rain and snow days" src=https://ashang.github.io/zz/processed_images/weather_13_0.85a1dd5f0622013a.png><p>We can see it's raining quite a bit in Okinawa since they have a rainy season (May-June) and a typhoon season (June-November). Nice is probably the nicest, having close to no rains during summer. When it comes to snow, Montreal is the only contender as snow in Nice and London is very rare and it hasn't snowed in Okinawa for over 30 years.<p>While weather is only one of the elements that are necessary to consider when moving (along with salary, atmosphere, friends/family etc.), it is one of the most important thing for me. If I had to make a ranking of those cities on a weather basis, it would be:<ol><li>Nice<li>Montreal<li>Okinawa/London</ol><p>Okinawa and London are tied for completely different reasons: one has the legendary British weather and its 2 weeks of summer and the other is so hot and humid that it can be hard to breath at times (but you get amazing sea and beaches). Now that you have seen how to use Pandas (for those that had never tried it before), it's up to you to finds things to compare. Do share them when you do as it is always interesting to read.</section></article></main></div>